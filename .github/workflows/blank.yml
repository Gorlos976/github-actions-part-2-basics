name: github-actions-part-2-basics
env:
     EB_PACKGE_S3_BUCKET_NAME: arn:aws:s3:::my-flask-app-packages
     EB_APPLIVATION_NAME: "MyFlask"
     EB_ENVIROMENT_NAME: "MyFlask-env"
     DEPLOY_PACKAGE_NAME: "flask_app_${{ github.sha }}.zip"
     AWS_REGION_NAME: "us-east-1"

on:
     push        :
     pull_request:
      branches    : -master


jobs:
 
 my_ci_part:
   
    runs-on: ubuntu-latest

  
    steps:
      - name: Git clone our repo
        uses: Action/checkout@v1
      - name: Create Zip deploymant package
        run: zip -r ${{env.DEPLOY_PACKAGE_NAME}} ./ -x* .git*
        

         
      - name: List current foldor 
        run:  ls -la

      - name: git clone my repo 
        uses: actions/checkout@v1

      - name: List current foldor 
        run:  ls -la
      # Runs a set of commands using the runners shell
      - name: Print Hello Message
        run: echo "Hello world from Deploy job" 

 my_deploy:
        
    # The type of runner that the job will run on
    runs-on: ubuntu-latest
    needs: [my_testing]
    env:
     VAR1: "this is Job Level Varible1"
     VAR2: "this is Job Level Varible2"
    
    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      - name: Print Hello Message in Testing
        run: echo "Hello world from Testing job"
        
      - name: Print env vars 
        run: |
         echo "VAR1-${{env.VAR1}}"
         echo "VAR2-${{env.VAR2}}"
         echo "VAR3-$Local_var"
        env:
          Local_var: "This is Superr local Enviroment varibale"
        
     # Runs a set of commands using the runners shell
      - name: Print Hello Message in Deploy
        run: echo "Hello world from Deploy job" 
        
      - name: Printing Deploy package
        run : echo "Deploy package name is ${{env.DEPLOY_PACKAGE_NAME}}"
      - name: Let's test some packages iof the are here 1
        run: aws --version
        
      - name: Let's test some packages iof the are here 2
        run: zip --version
